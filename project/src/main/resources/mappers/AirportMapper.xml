<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.kh.project.dao.AirportDAO">

  <select id="selectAirportList" resultType="kr.kh.project.vo.AirportVO">
    select * from airport
  </select>

  <!-- 공항 추가 -->
  <insert id="insertAirport" parameterType="kr.kh.project.vo.AirportVO">
    INSERT INTO airport (ai_name, ai_na_name, ai_standard_time)
    VALUES (#{ai_name}, #{ai_na_name}, #{ai_standard_time});
  </insert>

  <select id="selectAirportListByRoute" resultType="kr.kh.project.vo.AirportVO">
	select
		ai_num, ai_name, ai_na_name, ai_standard_time, na_division
	from
		airport
			join
		route on ro_ai_start = ai_num
			join
		nation on ai_na_name = na_name
	group by
		ai_num
  </select>
  <select id="selectAirportListByStart" resultType="kr.kh.project.vo.AirportVO">
	select
		ai_num, ai_name, ai_na_name, ai_standard_time, na_division
	from
		airport
			join
		route on ro_ai_end = ai_num
			join
		nation on ai_na_name = na_name
	where
		ro_ai_start = #{ro_ai_start}
  </select>
</mapper>
